(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{262:function(t,s,n){"use strict";n.r(s);var a=n(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),n("p",[t._v("BOM是浏览器对象模型，核心是window对象，表示浏览器的实例。")]),t._v(" "),n("h2",{attrs:{id:"global作用域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#global作用域"}},[t._v("#")]),t._v(" Global作用域")]),t._v(" "),n("p",[t._v("用var声明的变量和方法会自动声明到全局作用域，let和const不行")]),t._v(" "),n("h2",{attrs:{id:"窗口关系和位置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#窗口关系和位置"}},[t._v("#")]),t._v(" 窗口关系和位置")]),t._v(" "),n("p",[n("code",[t._v("top")]),t._v("始终指向最上层的窗口，即浏览器窗口本身。而"),n("code",[t._v("parent")]),t._v("对象始终指向当前窗口的父窗口，如果当前窗口是最上层窗口，则parent等于top（等于window)。\n"),n("code",[t._v("self")]),t._v("对象是终极window对象，它是为了和top、parent保持一致。\n"),n("code",[t._v("moveTo")]),t._v("和"),n("code",[t._v("moveBy")]),t._v("可以移动窗口位置。它们都接受两个参数，表示移动的x和y，单位都是px。前者是移动到新位置的坐标，后者是相对于当前坐标移动多少。")]),t._v(" "),n("h3",{attrs:{id:"像素比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#像素比"}},[t._v("#")]),t._v(" 像素比")]),t._v(" "),n("p",[t._v("window。devicePixelRatio属性提供了分辨率缩放的倍数功能。例如在物理分辨率1920"),n("em",[t._v("1080的屏幕下展示逻辑分辨率为640")]),t._v("320，它的值就是3。")]),t._v(" "),n("h2",{attrs:{id:"窗口大小"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#窗口大小"}},[t._v("#")]),t._v(" 窗口大小")]),t._v(" "),n("p",[t._v("现代浏览器都支持4个属性：innerWidth、innerHediht、outerWidth、outerHeight")]),t._v(" "),n("p",[t._v("前两个表示当前浏览器窗口的视口大小，后两个表示浏览器自身的窗口大小")]),t._v(" "),n("p",[t._v("document.documentElement.clientWidth和document.documentElement.clientHeight会返回当前页面视口的宽度和高度")]),t._v(" "),n("p",[t._v("获取页面视口大小的方法：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果没获取到视口大小的值")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CSS1Compat表示标准模式，BackCompat表示怪异模式")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compatMode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CSS1Compat'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientheight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    pageWidth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    pageHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientheight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[n("code",[t._v("resiezeTo")]),t._v("和"),n("code",[t._v("resizeBy")]),t._v("方法可以调整窗口大小，这两个方法都接收两个参数。前者接收要调整到的尺寸宽度和高度，后者接收相对现在尺寸要缩放多少（可以是负值）")]),t._v(" "),n("p",[t._v("和移动窗口的方法一样，调整窗口大小的方法可能被浏览器禁用。")]),t._v(" "),n("h2",{attrs:{id:"documnet和window的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#documnet和window的区别"}},[t._v("#")]),t._v(" documnet和window的区别")]),t._v(" "),n("p",[n("code",[t._v("documnet")]),t._v(" 是 "),n("code",[t._v("window")]),t._v("的一部分，属于被包含关系。")]),t._v(" "),n("p",[t._v("document 指窗体，表示页面文档创建的一个对象，它是一个只读属性")]),t._v(" "),n("p",[t._v("window 指窗体，表示的是浏览器的实例")]),t._v(" "),n("p",[t._v("用户不能改变 document.location(因为这是当前显示文档的位置)。但是可以改变 window.location (用其它文档取代当前文档)window.location 本身也是一个对象, 而 document.location 不是对象。")]),t._v(" "),n("h2",{attrs:{id:"window-open-导航和打开新窗口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window-open-导航和打开新窗口"}},[t._v("#")]),t._v(" window.open 导航和打开新窗口")]),t._v(" "),n("p",[n("code",[t._v("window.open")]),t._v("可接收四个参数：要加载的URL、目标窗口、特性字符串和表示新窗口在浏览器历史记录中是否替代当前加载页（boolean）")]),t._v(" "),n("p",[t._v("特性字符串选项有很多都被禁用了，可配置的包括窗口大小、窗口高度、是否显示地址栏/菜单栏等，书中在P365")]),t._v(" "),n("p",[t._v("可以用一个值接收它，并进行操作（同样很多操作都被浏览器禁止了）")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" wroWin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://xxxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'trowWindow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 缩放")]),t._v("\nwroWin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭窗口，需要经过用户确认")]),t._v("\nwroWin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("worWin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("closed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指向window的指针")]),t._v("\nwroWin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opener "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" window   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 切断与原始页面的联系,独立占用进程")]),t._v("\nwroWin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opener "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);