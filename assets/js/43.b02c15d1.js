(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{273:function(t,s,a){"use strict";a.r(s);var e=a(5),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_17-3-事件对象-17-4-1-用户界面事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-事件对象-17-4-1-用户界面事件"}},[t._v("#")]),t._v(" 17.3 事件对象-17.4.1 用户界面事件")]),t._v(" "),a("h2",{attrs:{id:"_17-3-事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-事件对象"}},[t._v("#")]),t._v(" 17.3 事件对象")]),t._v(" "),a("p",[t._v("上一小节提到的，触发事件都会返回一个记录事件信息的 "),a("code",[t._v("event")]),t._v(" 对象 ，本节内容就是事件的对象属性")]),t._v(" "),a("h3",{attrs:{id:"_17-3-1-dom-事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-1-dom-事件对象"}},[t._v("#")]),t._v(" 17.3.1 DOM 事件对象")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myBtn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventLister")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'click'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("事件对象包含特定事件相关的属性和方法，但也有一些共有的属性方法，列举几个常见的：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("currentTarget")]),t._v(" 当前时间处理程序所在的元素")]),t._v(" "),a("li",[a("code",[t._v("eventPhase")]),t._v(" 表示当前事件处理程序所在的阶段， 1表示捕获阶段，2表示到达目标，3表示冒泡阶段")]),t._v(" "),a("li",[a("code",[t._v("preventDefault()")]),t._v(" 取消事件的默认行为")]),t._v(" "),a("li",[a("code",[t._v("stopPropagation()")]),t._v("  取消事件后续所有的事件捕获或事件冒泡行为")]),t._v(" "),a("li",[a("code",[t._v("target")]),t._v(" 事件目标")]),t._v(" "),a("li",[a("code",[t._v("type")]),t._v(" 触发事件的类型")])]),t._v(" "),a("p",[t._v("在事件处理程序内部，"),a("code",[t._v("this")]),t._v(" 始终等于 "),a("code",[t._v("currentTarget")]),t._v(" 的值，而 "),a("code",[t._v("target")]),t._v(" 视情况而定。例如：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventLister")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("this "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("this "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myBtn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("上面这个例子可以看出， "),a("code",[t._v("currentTarget")]),t._v(" 和 "),a("code",[t._v("this")]),t._v(" 都指向了绑定了点击事件的元素 "),a("code",[t._v("body")]),t._v(" ，而 "),a("code",[t._v("target")]),t._v(" 属性指向了具体触发事件的元素，也就是事件目标  id 为 "),a("code",[t._v("myBtn")]),t._v(" 的按钮")]),t._v(" "),a("p",[t._v("type 属性在为同一元素多个事件绑定相同的方法时有用，在这个方法中用 "),a("code",[t._v("type")]),t._v(" 判断具体事件，进行相应的处理")]),t._v(" "),a("h4",{attrs:{id:"eventphase"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eventphase"}},[t._v("#")]),t._v(" eventPhase")]),t._v(" "),a("p",[a("code",[t._v("eventPhase")]),t._v(" 单独讲一下，虽然 “到达目标” 是在 冒泡阶段发生的，但是它这时候等于 2。  当 "),a("code",[t._v("eventPhase === 2")]),t._v(" 的时候，"),a("code",[t._v("event")]),t._v(" 的 "),a("code",[t._v("this")]),t._v(" 、currentTarget"),a("code",[t._v("和")]),t._v("target` 都相等")]),t._v(" "),a("h2",{attrs:{id:"_17-4-事件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-4-事件类型"}},[t._v("#")]),t._v(" 17.4 事件类型")]),t._v(" "),a("p",[t._v("主要讲了一下  DOM3 规定了有哪些事件类型，很多名词 ，详见P505最下方")]),t._v(" "),a("h2",{attrs:{id:"_17-4-1-用户界面事件-load、unload、resize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-4-1-用户界面事件-load、unload、resize"}},[t._v("#")]),t._v(" 17.4.1 用户界面事件 load、unload、resize")]),t._v(" "),a("p",[t._v("用户界面事件不一定和用户操作有关，可能是开发者手动触发的一些事件")]),t._v(" "),a("h3",{attrs:{id:"load-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load-事件"}},[t._v("#")]),t._v(" load 事件")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("window")]),t._v(" 对象上， "),a("code",[t._v("load")]),t._v(" 事件会在整个页面（包括所有外部资源）加载完成后触发。有两种方式绑定这个事件：")]),t._v(" "),a("ul",[a("li",[t._v("推荐用JavaScript 方式，通过  "),a("code",[t._v("window.addEventLister")]),t._v(" 添加 "),a("code",[t._v("load")]),t._v(" 事件")]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("<body>")]),t._v(" 标签上，绑定一个 "),a("code",[t._v("load")]),t._v(" 属性，指向一个函数")])]),t._v(" "),a("p",[t._v("还有一些其他标签也实现了 "),a("code",[t._v("load")]),t._v("事件，例如 "),a("code",[t._v("<img")]),t._v(" 和 "),a("code",[t._v("<script>")])]),t._v(" "),a("h3",{attrs:{id:"unload-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unload-事件"}},[t._v("#")]),t._v(" unload 事件")]),t._v(" "),a("p",[t._v("和 "),a("code",[t._v("load")]),t._v(" 事件相反，它会在文档触发卸载完成后触发，用法和 "),a("code",[t._v("load")]),t._v(" 一样。")]),t._v(" "),a("p",[t._v("需要注意的事，在它的事件内部，就不能再访问 "),a("code",[t._v("DOM")]),t._v(" 和页面外观之类的事件了，因为已经卸载不存在，访问会报错")]),t._v(" "),a("h3",{attrs:{id:"resize-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resize-事件"}},[t._v("#")]),t._v(" resize 事件")]),t._v(" "),a("p",[t._v("浏览器尺寸发生变化时触发，包括最大化和最小化，使用方法是   "),a("code",[t._v("window.addEventLister")])]),t._v(" "),a("h3",{attrs:{id:"scroll-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scroll-事件"}},[t._v("#")]),t._v(" scroll 事件")]),t._v(" "),a("p",[t._v("反应页面相关元素的变化，发生滚动事件的时候触发，使用方法是   "),a("code",[t._v("window.addEventLister")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("resize")]),t._v(" 和 "),a("code",[t._v("scroll")]),t._v(" 事件会随着文档滚动而重复触发，处理程序最好简单")])])])}),[],!1,null,null,null);s.default=n.exports}}]);