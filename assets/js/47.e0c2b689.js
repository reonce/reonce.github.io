(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{277:function(r,e,t){"use strict";t.r(e);var a=t(5),s=Object(a.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"_21-1-浏览器错误报告-21-2错误处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_21-1-浏览器错误报告-21-2错误处理"}},[r._v("#")]),r._v(" 21.1 浏览器错误报告- 21.2错误处理")]),r._v(" "),t("h2",{attrs:{id:"_21-1-浏览器错误报告"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_21-1-浏览器错误报告"}},[r._v("#")]),r._v(" 21.1 浏览器错误报告")]),r._v(" "),t("p",[r._v("所有桌面浏览器都会在控制台中暴露错误，这些错误在开发者工具的控制台中显示")]),r._v(" "),t("h2",{attrs:{id:"_21-2-1-try-catch-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_21-2-1-try-catch-语句"}},[r._v("#")]),r._v(" 21.2.1 try/catch 语句")]),r._v(" "),t("p",[t("code",[r._v("try/catch")]),r._v("语句用于在可能出错的执行程序的监测，如果发生错误，会在 "),t("code",[r._v("catch")]),r._v("块中抛出错误信息，执行其中的内容。")]),r._v(" "),t("h3",{attrs:{id:"_1-finally-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-finally-语句"}},[r._v("#")]),r._v(" 1.finally 语句")]),r._v(" "),t("p",[t("code",[r._v("finally")]),r._v(" 是一个可选的语句，值得注意的一点是，如果使用了 "),t("code",[r._v("finally")]),r._v(" 语句，就无法通过 "),t("code",[r._v("try")]),r._v(" 和"),t("code",[r._v("catch")]),r._v("块阻止其执行了，并且 "),t("code",[r._v("try")]),r._v("块或"),t("code",[r._v("catch")]),r._v(" 块的 "),t("code",[r._v("return")]),r._v("语句都会被忽略。例如：")]),r._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("function")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("test")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("try")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("return")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[r._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(";")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("catch")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),r._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("return")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[r._v("2")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("finally")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("return")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[r._v("3")]),r._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v("\n "),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("test")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[r._v("// 3")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br"),t("span",{staticClass:"line-number"},[r._v("5")]),t("br"),t("span",{staticClass:"line-number"},[r._v("6")]),t("br"),t("span",{staticClass:"line-number"},[r._v("7")]),t("br"),t("span",{staticClass:"line-number"},[r._v("8")]),t("br"),t("span",{staticClass:"line-number"},[r._v("9")]),t("br"),t("span",{staticClass:"line-number"},[r._v("10")]),t("br")])]),t("p",[r._v("上面这段例子会返回3，"),t("code",[r._v("try")]),r._v("块或"),t("code",[r._v("catch")]),r._v(" 块的 "),t("code",[r._v("return")]),r._v("语句被忽略了。")]),r._v(" "),t("p",[r._v("声明了"),t("code",[r._v("finally")]),r._v(" 块之后，"),t("code",[r._v("catch")]),r._v(" 块语句会变成可选的（它们两个有一个是必须的即可)")]),r._v(" "),t("h3",{attrs:{id:"_2-错误类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-错误类型"}},[r._v("#")]),r._v(" 2.错误类型")]),r._v(" "),t("p",[r._v("ECMA-262 定义了以下错误类型：")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/EvalError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("EvalError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：与 "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("eval()")]),t("OutboundLink")],1),r._v(" 有关。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RangeError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("RangeError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：数值变量或参数超出其有效范围。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("ReferenceError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：无效引用。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("SyntaxError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：语法错误。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("TypeError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：变量或参数不属于有效类型。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/URIError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("URIError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，表示错误的原因：给 "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURI",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("encodeURI()")]),t("OutboundLink")],1),r._v(" 或 "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/decodeURI",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("decodeURI()")]),t("OutboundLink")],1),r._v(" 传递的参数无效。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/AggregateError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("AggregateError")]),t("OutboundLink")],1)]),r._v(" "),t("p",[r._v("创建一个 error 实例，其中包裹了由一个操作产生且需要报告的多个错误。如："),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/any",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("Promise.any()")]),t("OutboundLink")],1),r._v(" 产生的错误。")]),r._v(" "),t("p",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/InternalError",target:"_blank",rel:"noopener noreferrer"}},[t("code",[r._v("InternalError")]),t("OutboundLink")],1),r._v(" 非标准")]),r._v(" "),t("p",[r._v("创建一个代表 Javascript 引擎内部错误的异常抛出的实例。如：递归太多。")]),r._v(" "),t("p",[r._v("Error 是基类型，其他错误类型都继承该类型")]),r._v(" "),t("h3",{attrs:{id:"_3-try-catch-用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-try-catch-用法"}},[r._v("#")]),r._v(" 3.try/catch 用法")]),r._v(" "),t("p",[r._v("如果明确知道某段代码"),t("strong",[r._v("可能出现某种错误")]),r._v("，那么应该用 "),t("code",[r._v("try/catch")]),r._v("包起来，对可能的错误进行处理")]),r._v(" "),t("p",[r._v("如果你名错知道某段代码"),t("strong",[r._v("一定会发生某种错误")]),r._v("，那就不适合")]),r._v(" "),t("h2",{attrs:{id:"_21-2-2-抛出错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_21-2-2-抛出错误"}},[r._v("#")]),r._v(" 21.2.2 抛出错误")]),r._v(" "),t("p",[t("code",[r._v("throw")]),r._v(" 操作符可以手动抛出 JS 错误。最常见的用法如：")]),r._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("throw")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("new")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("Error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[r._v("'这是一个错误'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("p",[r._v("也可以指定具体的错误类型，例如：")]),r._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("throw")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("new")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("SyntaxError")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[r._v("'xxx 语法错误'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("p",[r._v("最常用的错误类型是 Error、RangeError、ReferenceError 和 TypeError")]),r._v(" "),t("h3",{attrs:{id:"抛出自定义错误类型的错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#抛出自定义错误类型的错误"}},[r._v("#")]),r._v(" 抛出自定义错误类型的错误")]),r._v(" "),t("p",[r._v("通过继承 "),t("code",[r._v("Error")]),r._v(" 的类型可以实现自定义错误类型")]),r._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("class")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("CustomError")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("extends")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("Error")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[r._v("message")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("suprer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),r._v("message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(";")]),r._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(".")]),r._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[r._v('"CustomError"')]),r._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(".")]),r._v("message "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v(" message\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("throw")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("new")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("CustomError")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[r._v("'my msg'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br"),t("span",{staticClass:"line-number"},[r._v("4")]),t("br"),t("span",{staticClass:"line-number"},[r._v("5")]),t("br"),t("span",{staticClass:"line-number"},[r._v("6")]),t("br"),t("span",{staticClass:"line-number"},[r._v("7")]),t("br"),t("span",{staticClass:"line-number"},[r._v("8")]),t("br")])]),t("h2",{attrs:{id:"_21-2-3-error-事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_21-2-3-error-事件"}},[r._v("#")]),r._v(" 21.2.3  error 事件")]),r._v(" "),t("p",[r._v("在任何错误触发时还，都会在 "),t("code",[r._v("window")]),r._v("上触发 "),t("code",[r._v("error")]),r._v(" 事件（向后兼容)")]),r._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[r._v("window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[r._v("message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v(" url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v(" line")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=>")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("{")]),r._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("return")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[r._v("false")]),r._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("}")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br"),t("span",{staticClass:"line-number"},[r._v("3")]),t("br")])]),t("p",[r._v("上面这个例子中 ， "),t("code",[r._v("error")]),r._v(" 事件返回了 "),t("code",[r._v("false")]),r._v(" 相当于给 文档 加了一个 "),t("code",[r._v("try/catch")]),r._v(" 语句")])])}),[],!1,null,null,null);e.default=s.exports}}]);